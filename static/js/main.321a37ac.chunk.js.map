{"version":3,"sources":["utils.js","SelfDelegate.js","TransitionAlert.js","Proposal.js","Address.js","AddressesSum.js","AddressList.js","AddressWrapper.js","GoToAddress.js","SimpleSnackbar.js","App.js","serviceWorker.js","index.js"],"names":["isAddress","address","test","isChecksumAddress","replace","addressHash","keccak256","toLowerCase","i","parseInt","toUpperCase","getDelegatesString","delegates","decimal","Math","pow","millions","thousands","toFixed","SelfDelegate","from","contract","useState","delegate","setDelegate","balance","setBalance","useEffect","methods","call","then","result","console","log","balanceOf","Paper","variant","className","indictment","Tooltip","title","to","fontSize","CircularProgress","getDelegateToElement","TransitionAlert","severity","children","React","open","setOpen","Collapse","in","Alert","action","IconButton","aria-label","color","size","onClick","greenTheme","createMuiTheme","palette","primary","main","secondary","redTheme","Proposal","alphaContract","proposal","yes","setYes","no","setNo","id","returnValues","a","proposals","forVotes","againstVotes","getVotes","getProgress","value","getLinearProgress","theme","LinearProgress","Grid","container","item","xs","href","Address","showSnackbar","showProposals","valid","send","link","alias","ev","text","textArea","document","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","body","appendChild","focus","select","execCommand","err","error","removeChild","copyToClipboard","getSendProposalElement","getApproveProposalElement","Web3","givenProvider","Button","startIcon","getDelegateElement","map","p","key","getProposalsElement","AddressesSum","canApproveProposal","canApprove","Addresslist","list","addresses","setAddresses","setProposals","Contract","UniswapAlphaAbi","Store","uniswapAlpha","getCurrentVotes","newAddresses","push","sort","b","getPastEvents","fromBlock","toBlock","r","getProposals","sum","reduce","c","length","filter","AddressWrapper","resultAddress","useParams","found","find","AddressList","component","Link","GoToAddress","history","useHistory","setError","TextField","onKeyPress","target","onChange","setSelectionRange","label","helperText","fullWidth","SimpleSnackbar","handleClose","event","reason","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","App","loaded","setLoaded","account","setAccount","chain","setChain","infuraProvider","providers","HttpProvider","infura","window","ethereum","request","method","accounts","handleAccounts","chainId","catch","enable","autoRefreshOnNetworkChange","on","content","connect","code","getProvider","getSelfDelegateElement","setProvider","UniswapAbi","uniswap","path","getConnectorElement","getProviderElement","networks","1","3","4","5","42","getChainWarningElement","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.321a37ac.chunk.js","sourcesContent":["\nimport { keccak256 } from 'js-sha3'\n\nconst isAddress = function (address) {\n  if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) {\n    // check if it has the basic requirements of an address\n    return false\n  } else if (/^(0x)?[0-9a-f]{40}$/.test(address) || /^(0x)?[0-9A-F]{40}$/.test(address)) {\n    // If it's all small caps or all all caps, return true\n    return true\n  } else {\n    // Otherwise check each case\n    return isChecksumAddress(address)\n  }\n}\n\nconst isChecksumAddress = function (address) {\n  // Check each case\n  address = address.replace('0x', '')\n  var addressHash = keccak256(address.toLowerCase())\n  for (var i = 0; i < 40; i++) {\n    // the nth letter should be uppercase if the nth digit of casemap is 1\n    if ((parseInt(addressHash[i], 16) > 7 && address[i].toUpperCase() !== address[i]) || (parseInt(addressHash[i], 16) <= 7 && address[i].toLowerCase() !== address[i])) {\n      return false\n    }\n  }\n  return true\n}\n\nconst getDelegatesString = delegates => {\n  const decimal = delegates / Math.pow(10, 18)\n  const millions = decimal / Math.pow(10, 6)\n  const thousands = decimal / Math.pow(10, 3)\n  if (millions >= 1) {\n    return millions.toFixed(2) + 'M'\n  }\n  else if (thousands >= 1) {\n    return thousands.toFixed(2) + 'K'\n  }\n  else {\n    return decimal.toFixed(2)\n  }\n}\n\nconst copyToClipboard = text => {\n  const textArea = document.createElement('textarea')\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed'\n  textArea.style.top = 0\n  textArea.style.left = 0\n  textArea.style.width = '2em'\n  textArea.style.height = '2em'\n  textArea.style.padding = 0\n  textArea.style.border = 'none'\n  textArea.style.outline = 'none'\n  textArea.style.boxShadow = 'none'\n  textArea.style.background = 'transparent'\n\n  textArea.value = text\n\n  document.body.appendChild(textArea)\n  textArea.focus()\n  textArea.select()\n\n  let result = false\n\n  try {\n    document.execCommand('copy')\n    result = true\n  } catch (err) {\n    console.error(err)\n  }\n\n  document.body.removeChild(textArea)\n  return result\n}\n\n\n\nexport { isAddress, getDelegatesString, copyToClipboard }\n","import React, { useState, useEffect } from 'react'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Paper from '@material-ui/core/Paper'\nimport './App.css'\nimport { getDelegatesString } from './utils'\nimport { Link } from 'react-router-dom'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport LinkIcon from '@material-ui/icons/Link'\n\nfunction SelfDelegate({ from, address, contract }) {\n  const [delegate, setDelegate] = useState(null)\n  const [balance, setBalance] = useState(0)\n\n\n  useEffect(() => {\n    contract.methods.delegates(address).call({ from })\n      .then(result => {\n        console.log('Delegates', result)\n        setDelegate(result)\n      })\n    contract.methods.balanceOf(address).call({ from })\n      .then(result => {\n        console.log('Balance', result)\n        setBalance(parseInt(result))\n      })\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const getDelegateToElement = () => {\n    if (delegate) {\n      let indictment = ['The address is', 'The address has', 'itself']\n\n      if (address === from) {\n        indictment = ['You are', 'You have', 'yourself']\n      }\n\n      if (balance === 0) {\n        return <div>{indictment[1]} no UNI to delegate</div>\n      }\n      else if (delegate.toLowerCase() === address.toLowerCase()) {\n        return <div>{indictment[0]} delegating {getDelegatesString(balance)} UNI to <Tooltip title=\"Permalink\"><Link to={`/address/${delegate}`}>{indictment[2]} <LinkIcon fontSize=\"inherit\" /></Link></Tooltip></div>\n      }\n      else if (delegate === '0x0000000000000000000000000000000000000000') {\n        return <div>{indictment[0]} not delegating the {getDelegatesString(balance)} UNI</div>\n      }\n      else {\n        return <div>{indictment[0]} delegating {getDelegatesString(balance)} UNI to <Tooltip title=\"Permalink\"><Link to={`/address/${delegate}`}>{delegate} <LinkIcon fontSize=\"inherit\" /></Link></Tooltip></div>\n      }\n    }\n    else {\n      return <CircularProgress />\n    }\n  }\n\n  return <Paper variant=\"outlined\" className=\"innerdiv\">\n    {getDelegateToElement()}\n  </Paper>\n}\n\nexport default SelfDelegate\n","import React from 'react'\nimport Alert from '@material-ui/lab/Alert'\nimport IconButton from '@material-ui/core/IconButton'\nimport Collapse from '@material-ui/core/Collapse'\nimport CloseIcon from '@material-ui/icons/Close'\n\nexport default function TransitionAlert({ severity, children }) {\n  const [open, setOpen] = React.useState(true)\n\n  return (\n    <Collapse in={open} className=\"alert\">\n      <Alert\n        severity={severity}\n        action={\n          <IconButton\n            aria-label=\"close\"\n            color=\"inherit\"\n            size=\"small\"\n            onClick={() => {\n              setOpen(false)\n            }}\n          >\n            <CloseIcon fontSize=\"inherit\" />\n          </IconButton>\n        }\n      >\n        {children}\n      </Alert>\n    </Collapse>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport ReactMarkdown from 'react-markdown'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport ExternalLinkIcon from '@material-ui/icons/Launch'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport { getDelegatesString } from './utils'\nimport Grid from '@material-ui/core/Grid'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\n\nconst greenTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#006600'\n    },\n    secondary: {\n      main: '#ccffcc'\n    }\n  }\n})\n\nconst redTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#990000'\n    },\n    secondary: {\n      main: '#ffcccc'\n    }\n  }\n})\n\n\nconst Proposal = ({ alphaContract, proposal }) => {\n  const [yes, setYes] = useState(0)\n  const [no, setNo] = useState(0)\n  const id = proposal.returnValues['0']\n\n  useEffect(() => {\n    const getVotes = async () => {\n      const result = await alphaContract.methods.proposals(id).call()\n      console.log('Votes', result)\n      setYes(parseInt(result.forVotes))\n      setNo(parseInt(result.againstVotes))\n    }\n\n    getVotes()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const getProgress = value => {\n    console.log('votes', value, value / (4 * Math.pow(10, 25) * 100))\n    return value / (4 * Math.pow(10, 25)) * 100\n  }\n\n  const getLinearProgress = (theme, value) => {\n    return <MuiThemeProvider theme={theme}><LinearProgress variant=\"determinate\" value={value} /></MuiThemeProvider>\n  }\n\n  return <Paper variant=\"outlined\" className=\"innerdiv relative\">\n    <Grid container>\n      <Grid item xs={4}>\n        <div className=\"addressdiv\"><Tooltip title=\"Uniswap voting\"><a href={`https://app.uniswap.org/#/vote/${id}`}>Proposal #{proposal.returnValues['0']} <ExternalLinkIcon fontSize=\"inherit\" /></a></Tooltip></div>\n      </Grid>\n      <Grid item xs={4}>\n        <div className=\"addressdiv\">For ({getDelegatesString(yes)}, {getProgress(yes).toFixed(0)}%):</div>\n      </Grid>\n      <Grid item xs={4}>\n        <div className=\"addressdiv\">Against ({getDelegatesString(no)}, {getProgress(no).toFixed(0)}%):</div>\n      </Grid>\n      <Grid item xs={4}>\n        <div className=\"addressdiv\"></div>\n      </Grid>\n      <Grid item xs={4}>\n        <div className=\"addressdiv\">{getLinearProgress(greenTheme, getProgress(yes))}</div>\n      </Grid>\n      <Grid item xs={4}>\n        <div className=\"addressdiv\">{getLinearProgress(redTheme, getProgress(no))}</div>\n      </Grid>\n      <Grid item xs={12}>\n        <ReactMarkdown>{proposal.returnValues['8']}</ReactMarkdown>\n      </Grid>\n    </Grid>\n  </Paper>\n}\n\nexport default Proposal\n","import React from 'react'\nimport Web3 from 'web3'\nimport Paper from '@material-ui/core/Paper'\nimport ExternalLinkIcon from '@material-ui/icons/Launch'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport LinkIcon from '@material-ui/icons/Link'\nimport DoneIcon from '@material-ui/icons/Done'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport { Link } from 'react-router-dom'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Button from '@material-ui/core/Button'\nimport DelegateIcon from '@material-ui/icons/HowToVote'\nimport './App.css'\nimport { getDelegatesString, copyToClipboard, isAddress } from './utils'\nimport Proposal from './Proposal'\n\nfunction Address({ address, from, proposals, contract, alphaContract, showSnackbar, showProposals }) {\n  const valid = isAddress(address.address)\n\n  const delegate = async () => {\n    await contract.methods.delegate(address.address).send({ from })\n  }\n\n  const getAliasElement = () => {\n    if (address.link) {\n      return <div className=\"addressdiv\">Alias: <Tooltip title=\"Alias source\"><a href={address.link}>{address.alias} <ExternalLinkIcon fontSize=\"inherit\" /></a></Tooltip></div>\n    }\n    else {\n      return <div className=\"addressdiv\">Alias: {address.alias}</div>\n    }\n  }\n\n  const handleCopyClick = ev => {\n    copyToClipboard(address.address)\n    showSnackbar()\n  }\n\n  const getSendProposalElement = () => {\n    if (address.delegates > Math.pow(10, 25)) {\n      return <Tooltip title=\"Can submit proposals\"><DoneIcon fontSize=\"inherit\" /></Tooltip>\n    }\n  }\n\n  const getApproveProposalElement = () => {\n    if (address.delegates > Math.pow(40, 25)) {\n      return <Tooltip title=\"Can approve proposal\"><DoneAllIcon fontSize=\"inherit\" /></Tooltip>\n    }\n  }\n\n  const getDelegateElement = () => {\n    if (from && Web3.givenProvider) {\n      return <Tooltip title=\"Delegate my votes to this address\"><Button variant=\"outlined\" size=\"small\" color=\"primary\" onClick={delegate} startIcon={<DelegateIcon fontSize=\"inherit\" color=\"primary\" />}>Delegate</Button></Tooltip>\n    }\n  }\n\n  const getProposalsElement = () => {\n    if (showProposals) {\n      return proposals.map(p => <Proposal key={p.id} alphaContract={alphaContract} proposal={p} />)\n    }\n  }\n\n  if (valid) {\n    return <>\n      <Paper variant=\"outlined\" className=\"innerdiv relative\">\n        {getAliasElement()}\n        <div className=\"addressdiv\">\n          Address: <Tooltip title=\"Permalink\"><Link to={`/address/${address.address}`}>{address.address} <LinkIcon fontSize=\"inherit\" /></Link></Tooltip>\n          <Tooltip title=\"Etherscan\"><a href={`https://etherscan.io/address/${address.address}`}><ExternalLinkIcon fontSize=\"inherit\" className=\"spacingleft\" /></a></Tooltip>\n          <Tooltip title=\"Copy to clipboard\"><CopyIcon onClick={handleCopyClick} fontSize=\"inherit\" className=\"spacingleft pointer\" /></Tooltip>\n        </div>\n        <div className=\"addressdiv\">Delegates: {getDelegatesString(address.delegates)} {getSendProposalElement()} {getApproveProposalElement()}\n          {getDelegateElement()}\n        </div>\n      </Paper>\n      {getProposalsElement()}\n    </>\n  }\n  else {\n    return <Paper variant=\"outlined\" className=\"innerdiv\">\n      Input {address.address} is not a valid address.\n    </Paper>\n  }\n}\n\nexport default Address\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp'\nimport ThumbDownIcon from '@material-ui/icons/ThumbDown'\nimport { getDelegatesString } from './utils'\n\nconst AddressesSum = ({ delegates }) => {\n\n  const canApproveProposal = (delegates) => {\n    return delegates > 4 * Math.pow(10, 25)\n  }\n\n  const canApprove = canApproveProposal(delegates)\n\n  const getApproveIconElement = () => {\n    if(canApprove) {\n      return <ThumbUpIcon fontSize=\"inherit\" className=\"spacingright\" />\n    }\n    else {\n      return <ThumbDownIcon fontSize=\"inherit\" className=\"spacingright\" />\n    }\n  }\n\n  return <Paper variant=\"outlined\" className=\"innerdiv centerflex\">\n    {getApproveIconElement()}\n    The addresses below sum up to {getDelegatesString(delegates)} delegates and\n    {canApproveProposal(delegates) ? ' can approve a proposal' : ' can not approve a proposal'}\n  </Paper>\n}\n\nexport default AddressesSum\n","import React, { useState, useEffect } from 'react'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Contract from 'web3-eth-contract'\nimport Address from './Address'\nimport AddressesSum from './AddressesSum'\nimport { isAddress } from './utils'\nimport Store from './store.json'\nimport UniswapAlphaAbi from './uniswapalphaabi.json'\n\nconst Addresslist = ({ list, from, contract, showSnackbar }) => {\n  const [addresses, setAddresses] = useState(null)\n  const [proposals, setProposals] = useState([])\n\n  const alphaContract = new Contract(UniswapAlphaAbi, Store.uniswapAlpha)\n\n  useEffect(() => {\n    const getCurrentVotes = async () => {\n      const newAddresses = []\n      for (const address of list) {\n        const valid = isAddress(address.address)\n        if (valid) {\n          const result = parseInt(await contract.methods.getCurrentVotes(address.address).call({ from }))\n          newAddresses.push({ ...address, delegates: result })\n        }\n        else {\n          newAddresses.push(address)\n        }\n      }\n\n      newAddresses.sort((a, b) => b.delegates - a.delegates)\n      console.log('Addresses', newAddresses)\n      setAddresses(newAddresses)\n    }\n\n    const getProposals = async () => {\n      await alphaContract.getPastEvents('ProposalCreated', {\n        fromBlock: 0,\n        toBlock: 'latest'\n      }).then(r => {\n        console.log('Proposals', r)\n        setProposals(r)\n      })\n    }\n\n    getProposals()\n    getCurrentVotes()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n\n  if (addresses) {\n    const sum = addresses.reduce((p, c) => ({ delegates: p.delegates + c.delegates }), { delegates: 0 }).delegates\n    return <>\n      {addresses.length > 1 && <AddressesSum delegates={sum} />}\n      {addresses.map(a => <Address key={a.address} address={a} from={from} alphaContract={alphaContract} contract={contract} proposals={proposals === null ? [] : proposals.filter(p => p.returnValues['1'] === a.address)} showSnackbar={showSnackbar} showProposals={addresses.length === 1} />)}\n    </>\n  }\n  else {\n    return <CircularProgress />\n  }\n}\n\nexport default Addresslist\n","import React from 'react'\nimport { useParams } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport HomeIcon from '@material-ui/icons/Home'\nimport { Link } from 'react-router-dom'\nimport AddressList from './AddressList'\nimport SelfDelegate from './SelfDelegate'\nimport Store from './store.json'\nimport { isAddress } from './utils'\n\nconst AddressWrapper = ({ from, contract, showSnackbar }) => {\n  const { address } = useParams()\n\n  const found = Store.addresses.find(a => a.address.toLowerCase() === address.toLowerCase())\n  let resultAddress\n\n  if (found) {\n    resultAddress = found\n  }\n  else {\n    resultAddress = {\n      alias: '<Unknown>',\n      address: address\n    }\n  }\n  const valid = isAddress(resultAddress.address)\n\n  const getHomeElement = () => <div className=\"buttonbotdiv\">\n    <Button variant=\"outlined\" color=\"primary\" component={Link} to={'/'} startIcon={<HomeIcon fontSize=\"inherit\" color=\"primary\" />}>Go home</Button>\n  </div>\n\n  return <>\n    { valid ? <SelfDelegate from={from} address={resultAddress.address} contract={contract} /> : null}\n    <AddressList list={[resultAddress]} from={from} contract={contract} showSnackbar={showSnackbar} />\n    {getHomeElement()}\n  </>\n}\n\nexport default AddressWrapper\n","import React, { useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport { useHistory } from 'react-router-dom'\nimport { isAddress } from './utils'\n\nconst GoToAddress = () => {\n  const history = useHistory()\n\n  const [error, setError] = useState('')\n\n  const handleKeyEvent = ev => {\n    if (ev.key === 'Enter') {\n      history.push(`/address/${ev.target.value}`)\n    }\n  }\n\n  const handleChange = ev => {\n    if (isAddress(ev.target.value)) {\n      setError('')\n    }\n    else {\n      setError('Invalid address')\n    }\n  }\n\n  const handleClick = ev => {\n    ev.target.setSelectionRange(0, ev.target.value.length)\n  }\n\n  return <div className=\"gotodiv\">\n    <TextField onKeyPress={handleKeyEvent} onChange={handleChange} onClick={handleClick} id=\"outlined-basic\" label=\"Address\" variant=\"outlined\" error={error.length > 0} helperText={error} fullWidth />\n  </div>\n}\n\nexport default GoToAddress\n","import React from 'react'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\n\nexport default function SimpleSnackbar({ open, setOpen }) {\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return\n    }\n\n    setOpen(false)\n  }\n\n  return (\n    <div>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        open={open}\n        autoHideDuration={3000}\n        onClose={handleClose}\n        message=\"Copied to clipboard\"\n        action={\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        }\n      />\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Web3 from 'web3'\nimport Contract from 'web3-eth-contract'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Button from '@material-ui/core/Button'\nimport {\n  Switch,\n  Route,\n} from 'react-router-dom'\nimport ExternalLinkIcon from '@material-ui/icons/Launch'\nimport LockIcon from '@material-ui/icons/Lock'\nimport ConnectIcon from '@material-ui/icons/SettingsInputComponent'\nimport './App.css'\nimport SelfDelegate from './SelfDelegate'\nimport TransitionAlert from './TransitionAlert'\nimport AddressWrapper from './AddressWrapper'\nimport AddressList from './AddressList'\nimport GoToAddress from './GoToAddress'\nimport Store from './store.json'\nimport UniswapAbi from './uniswapabi.json'\nimport SimpleSnackbar from './SimpleSnackbar'\n\nfunction App() {\n  const [loaded, setLoaded] = useState(false)\n  const [account, setAccount] = useState(null)\n  const [chain, setChain] = useState(1)\n  const [open, setOpen] = useState(false)\n  const infuraProvider = new Web3.providers.HttpProvider(`https://mainnet.infura.io/v3/${Store.infura}`)\n  const givenProvider = Web3.givenProvider\n\n  useEffect(() => {\n    const enable = async () => {\n      if (givenProvider) {\n        window.ethereum\n          .request({ method: 'eth_accounts' })\n          .then(accounts => {\n            console.log('Accounts', accounts)\n            handleAccounts(accounts)\n            setChain(window.ethereum.chainId)\n            setLoaded(true)\n          })\n          .catch((err) => {\n            console.error(err)\n          })\n      }\n      else {\n        setLoaded(true)\n      }\n    }\n    enable()\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n\n  const handleAccounts = (accounts) => {\n    if (accounts.length === 0) {\n      console.log('Please connect to MetaMask.')\n    }\n    else {\n      setAccount(accounts[0])\n    }\n  }\n\n  if (window.ethereum) {\n    window.ethereum.autoRefreshOnNetworkChange = false\n    window.ethereum.on('accountsChanged', handleAccounts)\n  }\n\n  const connect = () => {\n    window.ethereum\n      .request({ method: 'eth_requestAccounts' })\n      .then((accounts) => {\n        handleAccounts(accounts)\n      })\n      .catch((err) => {\n        if (err.code === 4001) {\n          console.log('Please connect to MetaMask.')\n        } else {\n          console.error(err)\n        }\n      })\n  }\n\n  const getLoadingElement = () => <CircularProgress />\n\n  const getNoAccountElement = () => <div className=\"buttondiv\">\n    <Button variant=\"outlined\" color=\"primary\" onClick={connect} startIcon={<ConnectIcon fontSize=\"inherit\" color=\"primary\" />}>Connect you account</Button>\n  </div>\n\n  const getProviderElement = (contract) => <AddressList list={Store.addresses} from={account} contract={contract} showSnackbar={() => setOpen(true)} />\n\n  const getChainWarningElement = () => {\n    const id = parseInt(chain)\n\n    const networks = {\n      1: 'Ethereum Main Network',\n      3: 'Ropsten Test Network',\n      4: 'Rinkeby Test Network',\n      5: 'Goerli Test Network',\n      42: 'Kovan Test Network'\n    }\n\n    if (id !== 1 && getProvider() === givenProvider) {\n      if (id in networks) {\n        return <TransitionAlert severity=\"info\">You are on the {networks[id]}</TransitionAlert>\n      }\n      else {\n        return <TransitionAlert severity=\"info\">You are not on the Ethereum Main Network</TransitionAlert>\n      }\n    }\n  }\n\n  const getProvider = () => {\n    if (account) {\n      return givenProvider\n    }\n    else {\n      return infuraProvider\n    }\n  }\n\n  const getConnectorElement = (contract) => {\n    if(account) {\n      return getSelfDelegateElement(contract)\n    }\n    else {\n      if(givenProvider) {\n        return getNoAccountElement()\n      }\n    }\n  }\n\n  const getSpaghettiElement = () => <TransitionAlert severity=\"warning\">This is spaghetti code. Use at your own risk.</TransitionAlert>\n\n  const getSelfDelegateElement = (contract) => <SelfDelegate from={account} address={account} contract={contract} />\n\n  const getDuneAnalyticsElement = () => <TransitionAlert severity=\"info\">Check out <a href=\"https://explore.duneanalytics.com/dashboard/uniswap-governance\">Dune Analytics Uniswap Governance dashboard <ExternalLinkIcon fontSize=\"inherit\" /><LockIcon fontSize=\"inherit\" /></a> for a more complete view.</TransitionAlert>\n\n  const getUniswapVoteElement = () => <TransitionAlert severity=\"info\">Go to <a href=\"https://app.uniswap.org/#/vote\">Uniswap Vote <ExternalLinkIcon fontSize=\"inherit\" /></a> to delegate your UNI.</TransitionAlert>\n\n  const getEtherScanContractElement = () => <TransitionAlert severity=\"info\">Check out the <a href=\"https://etherscan.io/address/0x1f9840a85d5af5bf1d1762f925bdaddc4201f984#readContract\">Uniswap contract on Etherscan <ExternalLinkIcon fontSize=\"inherit\" /></a> to run the queries yourself.</TransitionAlert>\n\n  const getCreditsElement = () => <TransitionAlert severity=\"info\">Unicorn icon made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik <ExternalLinkIcon fontSize=\"inherit\" /></a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">Flaticon <ExternalLinkIcon fontSize=\"inherit\" /></a>.</TransitionAlert>\n\n  let content\n\n  if (!loaded) {\n    content = getLoadingElement()\n  }\n  else {\n    Contract.setProvider(getProvider())\n    const contract = new Contract(UniswapAbi, Store.uniswap)\n\n    content = <Switch>\n      <Route path=\"/address/:address\">\n        <AddressWrapper from={account} contract={contract} showSnackbar={() => setOpen(true)} />\n      </Route>\n      <Route path=\"/\">\n        {getConnectorElement(contract)}\n        <GoToAddress />\n        {getProviderElement(contract)}\n      </Route>\n    </Switch>\n  }\n\n  return (\n    <div className=\"outerdiv\">\n      {getSpaghettiElement()}\n      {getChainWarningElement()}\n      {content}\n      {getUniswapVoteElement()}\n      {getDuneAnalyticsElement()}\n      {getEtherScanContractElement()}\n      {getCreditsElement()}\n      <SimpleSnackbar open={open} setOpen={setOpen} />\n    </div>)\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#D392D8'\n    },\n    secondary: {\n      main: '#E8C2D8'\n    }\n  }\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={theme}>\n      <Router>\n        <App />\n      </Router>\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}